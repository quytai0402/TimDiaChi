<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>Dự Báo Thời Tiết</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body class="light" id="main-body">
    <script src="https://cdn.tailwindcss.com"></script>

    <div class="flex items-center justify-between pt-6 container mx-auto flex-wrap w-full gap-5">
        <div class="flex items-center gap-4">
            <!-- location -->
            <div class="text-4xl text-yellow-50 flex gap-3" id="location">
                <img class="w-6 min-w-[1.5rem]" src="assets/place.png" alt="" srcset="">
                <span><span>
            </div>
            <label class="switch">
                <input type="checkbox" class="dark-btn">
                <span class="slider round"></span>
            </label>
        </div>
        <!-- search bar -->
        <div id="searchbar" class="flex justify-center">
            <div>
                <div class="input-group relative flex items-stretch w-full">
                    <input id="input_text" type="search"
                        class="form-control relative flex-auto min-w-0 block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                        placeholder="Nhập vị trí trên toàn cầu" aria-label="Search" aria-describedby="button-addon2">
                    <button
                        class="btn px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out flex items-center"
                        type="button" id="button-addon2">
                        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="w-4"
                            role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path fill="currentColor"
                                d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z">
                            </path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="container mx-auto flex justify-between flex-wrap gap-4" id="details">
        <div id="status"
            class="mt-2 text-center max-w-max bg-black opacity-50 text-white pt-1 pb-3 px-3 rounded-2xl flex h-fit">
            <div class="flex flex-col">
                <img id="icon" class="mx-auto w-24 float-left" src="http://openweathermap.org/img/wn/10d@2x.png"
                    alt="weather-icon" srcset="">
                <span class="mx-auto text-2xl block" id="stat"></span>
                <span id="dt" class="p-2"></span>
            </div>
            <div class="rounded-2xl p-6 bg-black opacity-50 text-yellow-50 w-fit flex flex-col">
                <h1 class="text-8xl block" id="temperature"></h1>
                <h2 class="text-2xl block text-center">Cảm Giác Nhiệt Độ <span id="feels-like">27</span>&degC</h2>
            </div>
        </div>
        <div class="flex h-fit w-fit rounded-xl opacity-50 border-solid border border-sky-500  bg-black text-white">
            <table class="w-fit">
                <tr id="table" class="">
                    <th class="details-row-heading">Độ ẩm</th>
                    <td id="humidity" class="px-6">_</td>
                </tr>
                <tr id="table" class="">
                    <th class="details-row-heading">Đơn Vị Đo</th>
                    <td id="pressure" class="px-6">_</td>
                </tr>
                <tr id="table" class="">
                    <th class="details-row-heading">Tốc độ GIÓ</th>
                    <td id="speed" class="px-6">_</td>
                </tr>
                <tr id="table" class="">
                    <th class="details-row-heading">Bình Minh</th>
                    <td id="sunrise" class="px-6">_</td>
                </tr>
                <tr id="table" class="">
                    <th class="details-row-heading">Hoàng hôn</th>
                    <td id="sunset" class="px-6">_</td>
                </tr>
            </table>
            <table class="w-fit h-fit">
                <tr id="table" class="">
                    <th class="details-row-heading">Dữ liệu hiện tại</th>
                </tr>
                <tr id="table" class="">
                    <th class="details-row-heading">Đánh giá chất lượng không khí</th>
                    <td id="aqi" class="px-6">_</td>
                </tr>
                <tr id="table" class="">
                    <th class="details-row-heading">Chất lượng</th>
                    <td id="quality" class="px-6">_</td>
                </tr>
            </table>
        </div>
    </div>

    <!-- FORECAST-->
    <div class="bg-black opacity-50 text-white">
        <div class="flex flex-wrap justify-between gap-6 overflow-x-scroll py-6 container mx-auto" id="forcast">
            <div class=" border-solid border-4 text-center rounded-2xl w-36" id="0">
                <h2></h2>
                <img class="m-auto" src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather-icon" srcset="">
                <table class="mx-auto">
                    <tr id="table" class="">
                        <th class="p-2">Cao</th>
                        <td class="p-2">_</td>
                    </tr>
                    <tr id="table" class="">
                        <th>Thấp</th>
                        <td></td>
                    </tr>
                </table>
            </div>
            <div class=" border-solid border-4 text-center rounded-2xl  w-36" id="1">
                <h2></h2>
                <img class="m-auto" src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather-icon" srcset="">
                <table class="mx-auto ">
                    <tr id="table" class="">
                        <th class="p-2">Cao</th>
                        <td class="p-2">_</td>
                    </tr>
                    <tr id="table" class="">
                        <th>Thấp</th>
                        <td>_</td>
                    </tr>
                </table>
            </div>
            <div class=" mx-1 border-solid border-4 text-center rounded-2xl w-36" id="2">
                <h2></h2>
                <img class="mx-auto" src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather-icon" srcset="">
                <table class="mx-auto ">
                    <tr id="table" class="">
                        <th class="p-2">Cao</th>
                        <td class="p-2">_</td>
                    </tr>
                    <tr id="table" class="">
                        <th>Thấp</th>
                        <td>_</td>
                    </tr>
                </table>
            </div>
            <div class=" border-solid border-4 text-center rounded-2xl  w-36" id="3">
                <h2></h2>
                <img class=" m-auto" src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather-icon" srcset="">
                <table class="mx-auto ">
                    <tr id="table" class="">
                        <th class="p-2">Cao</th>
                        <td class="p-2">_</td>
                    </tr>
                    <tr id="table" class="">
                        <th>Thấp</th>
                        <td>_</td>
                    </tr>
                </table>
            </div>
            <div class=" border-solid border-4 text-center rounded-2xl  w-36" id="4">
                <h2></h2>

                <img class="m-auto" src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather-icon" srcset="">
                <table class="mx-auto ">
                    <tr id="table" class="">
                        <th class="p-2">Cao</th>
                        <td class="p-2">_</td>
                    </tr>
                    <tr id="table" class="">
                        <th>Thấp</th>
                        <td>_</td>
                    </tr>
                </table>
            </div>
            <div class="  border-solid border-4 text-center rounded-2xl  w-36" id="5">
                <h2></h2>
                <img class="m-auto" src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather-icon" srcset="">
                <table class="mx-auto ">
                    <tr id="table" class="">
                        <th class="p-2">Cao</th>
                        <td class="p-2">_</td>
                    </tr>
                    <tr id="table" class="">
                        <th>Thấp</th>
                        <td>_</td>
                    </tr>
                </table>
            </div>
            <div class=" border-solid border-4 text-center rounded-2xl  w-36" id="6">
                <h2></h2>
                <img class="m-auto" src="http://openweathermap.org/img/wn/10d@2x.png" alt="weather-icon" srcset="">
                <table class="mx-auto ">
                    <tr id="table" class="">
                        <th class="p-2">Cao</th>
                        <td class="p-2">_</td>
                    </tr>
                    <tr id="table" class="">
                        <th>Thấp</th>
                        <td>_</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal dialog có thể hiển thị khi cần cấp quyền vị trí -->
    <div id="denyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('denyModal')">&times;</span>
            <h2>Chúng tôi cần vị trí của bạn!</h2>
            <p>Để cung cấp thông tin thời tiết chính xác cho vị trí của bạn, chúng tôi cần quyền truy cập vị trí.</p>
            <div class="modal-actions">
                <button onclick="retryLocation()" class="modal-btn modal-btn-primary">Cấp quyền ngay</button>
            </div>
        </div>
    </div>

    <div id="permissionGuideModal" class="modal">
        <div class="modal-content wider-modal">
            <span class="close" onclick="closeModal('permissionGuideModal')">&times;</span>
            <h2>Hướng dẫn cấp quyền vị trí</h2>
            <div class="browser-selection">
                <button class="browser-btn" onclick="showGuideFor('chrome')">Chrome</button>
                <button class="browser-btn" onclick="showGuideFor('firefox')">Firefox</button>
                <button class="browser-btn" onclick="showGuideFor('safari')">Safari</button>
                <button class="browser-btn" onclick="showGuideFor('edge')">Edge</button>
            </div>
            
            <div class="guide-steps chrome-guide">
                <h3>Cho Chrome:</h3>
                <ol>
                    <li>Nhấn vào biểu tượng khóa/thông tin bên cạnh URL</li>
                    <li>Chọn "Quyền truy cập vị trí"</li>
                    <li>Chọn "Cho phép"</li>
                    <li>Tải lại trang</li>
                </ol>
            </div>
            
            <div class="guide-steps firefox-guide">
                <h3>Cho Firefox:</h3>
                <ol>
                    <li>Nhấn vào biểu tượng khóa bên cạnh URL</li>
                    <li>Chọn "Xóa cài đặt này" hoặc chọn "Cho phép"</li>
                    <li>Tải lại trang</li>
                </ol>
            </div>
            
            <div class="guide-steps safari-guide">
                <h3>Cho Safari:</h3>
                <ol>
                    <li>Mở Tùy chọn Safari (Safari > Tùy chọn)</li>
                    <li>Chọn tab "Trang web"</li>
                    <li>Chọn "Vị trí" ở bên trái</li>
                    <li>Cho phép trang web này</li>
                    <li>Tải lại trang</li>
                </ol>
            </div>
            
            <div class="guide-steps edge-guide">
                <h3>Cho Edge:</h3>
                <ol>
                    <li>Nhấn vào biểu tượng khóa/thông tin bên cạnh URL</li>
                    <li>Chọn "Quyền truy cập vị trí"</li>
                    <li>Chọn "Cho phép"</li>
                    <li>Tải lại trang</li>
                </ol>
            </div>
            
            <div class="modal-actions">
                <button onclick="reloadAndTry()" class="modal-btn modal-btn-primary">Tôi đã làm theo hướng dẫn</button>
            </div>
        </div>
    </div>

    <script src="js/location.js" type="text/javascript"></script>
    <script src="js/script.js" type="text/javascript"></script>
</body>

</html>
